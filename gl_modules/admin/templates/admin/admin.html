{% extends 'base.html' %}
{% block content %}
<div class="container-fluid">
    <section id="dashboard">
        <h4 class="text-center feelist_title"><small>Hi Marcel, you have {{num}} flaged posts to resolve.</small> </h4>
    </section>
    <!--DISPLAYING ALL FLAGGED POSTS-->
    <section id="flaged_posts">
        <ul class="list-group">
            {% for post in flaged_posts %}
            <li class="list-group-item" id="{{ post.id }}">
                <div class="row">
                    <div class="col-md-3">
                        <span class="smaller_h"><i class="fas fa-user"></i></span> <span class="">{{ post.name}}</span>
                        <br class="m-0 p-0">
                        <span class="smaller_h"><i class="far fa-clock"></i></span> <span class=""> {{ post.created_at}}</span>

                        <br>
                         <span class="smaller_h"><i class="far fa-flag"></i></span> <span class=""> {{ post.flags}}</span>

                    </div>
                     <div class="col-md-6">
                         <span class="text-primary">feel</span>
                         <p> {{ (' ').join(post.i_feel)}}</p>

                         <hr class="m-0 p-0">
                          <span class="text-primary">because</span>
                         <p> {{ (' ').join(post.because)}}</p>
                         <hr class="m-0 p-0">
                          <span class="text-primary">action</span>
                          <p>{{ post.action}}</p>

                    </div>
                     <div class="col-md-3">
                        <span class="gl_button danger flaged" data-action="delete"
                              data-step="1" data-intro="Delete post if you think it's inappropriate"
                              data-cy="delete_flagged{{loop.index}}"
                              data-post_id="{{ post.id }}" data-user_id="{{ post.user_id }}">delete</span>
                        <span class="gl_button flaged" data-action="return"
                               data-step="2" data-intro="return post back to search results if you think it's not inappropriate"
                               data-cy="return_flagged{{loop.index}}"
                              data-post_id="{{ post.id }}">return back</span>
                    </div>
                </div>

            </li>

            {% endfor %}
        </ul>
    </section>
</div>
<section id="footer">
    {{ footer() }}
</section>
{% endblock%}
{% block js %}
<script src="{{url_for('assets_dist_bp.static', filename='js/admin.js')}}" type="module"></script>
{% endblock %}

